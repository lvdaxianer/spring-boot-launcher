# GitHub Releases å‘å¸ƒæŒ‡å—

æœ¬é¡¹ç›®ä½¿ç”¨ **GitHub Actions** è‡ªåŠ¨ç®¡ç†ä¸ GitHub Releases çš„é›†æˆã€‚

## ğŸš€ å‘å¸ƒæµç¨‹

### æ–¹å¼ä¸€ï¼šæ¨é€ç‰ˆæœ¬æ ‡ç­¾ï¼ˆæ¨èï¼‰

```bash
# 1. ç¡®ä¿æ‰€æœ‰å˜æ›´å·²æäº¤
git add .
git commit -m "feat: æ·»åŠ æ–°åŠŸèƒ½"

# 2. æ¨é€ä»£ç 
git push origin main

# 3. åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾å¹¶æ¨é€
git tag v0.0.3
git push origin v0.0.3
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨åˆ›å»º Release

1. è¿›å…¥ GitHub ä»“åº“é¡µé¢
2. ç‚¹å‡» **Releases** â†’ **Draft a new release**
3. å¡«å†™ç‰ˆæœ¬å·ï¼ˆå¦‚ `v0.0.3`ï¼‰
4. è‡ªåŠ¨ç”Ÿæˆçš„æ›´æ–°æ—¥å¿—ä¼šå‡ºç°åœ¨è¯´æ˜ä¸­
5. ç‚¹å‡» **Publish release**

## ğŸ“ æäº¤è§„èŒƒ

é¡¹ç›®ä½¿ç”¨ **Conventional Commits** è§„èŒƒï¼š

| Type | è¯´æ˜ | CHANGELOG åˆ†ç±» |
|------|------|---------------|
| `feat` | æ–°åŠŸèƒ½ | Added |
| `fix` | ä¿®å¤ bug | Fixed |
| `docs` | æ–‡æ¡£æ›´æ–° | Changed |
| `style` | ä»£ç æ ¼å¼ | Changed |
| `refactor` | é‡æ„ | Changed |
| `perf` | æ€§èƒ½ä¼˜åŒ– | Changed |
| `test` | æµ‹è¯• | Added |
| `chore` | æ„å»ºå·¥å…· | Changed |

ç¤ºä¾‹ï¼š
```bash
git commit -m "feat: æ·»åŠ æ–­ç‚¹ç»­ä¼ éªŒè¯åŠŸèƒ½"
git commit -m "fix: ä¿®å¤è·¯å¾„éå†å®‰å…¨é—®é¢˜"
git commit -m "docs: æ›´æ–° README æ–‡æ¡£"
```

## ğŸ”„ Git Hook è‡ªåŠ¨æ›´æ–°

é¡¹ç›®å·²é…ç½® **post-commit hook**ï¼Œæ¯æ¬¡æäº¤ä¼šè‡ªåŠ¨æ›´æ–° `CHANGELOG.md`ï¼š

```bash
# æŸ¥çœ‹ CHANGELOG.md
cat CHANGELOG.md
```

## ğŸ“¦ ç‰ˆæœ¬å·è§„èŒƒ

éµå¾ª **è¯­ä¹‰åŒ–ç‰ˆæœ¬** (Semantic Versioning)ï¼š

```
ä¸»ç‰ˆæœ¬.æ¬¡ç‰ˆæœ¬.ä¿®è®¢ç‰ˆæœ¬
   v1.2.3
```

- **ä¸»ç‰ˆæœ¬ (1)**ï¼šä¸å…¼å®¹çš„é‡å¤§å˜æ›´
- **æ¬¡ç‰ˆæœ¬ (2)**ï¼šæ–°å¢åŠŸèƒ½ï¼ˆå‘ä¸‹å…¼å®¹ï¼‰
- **ä¿®è®¢ç‰ˆæœ¬ (3)**ï¼šBug ä¿®å¤ï¼ˆå‘ä¸‹å…¼å®¹ï¼‰

## âš™ï¸ GitHub Actions å·¥ä½œæµ

### `.github/workflows/release.yml`

| è§¦å‘æ¡ä»¶ | æ“ä½œ |
|---------|------|
| æ¨é€ `v*.*.*` æ ‡ç­¾ | è‡ªåŠ¨æ„å»ºã€ç”Ÿæˆæ›´æ–°æ—¥å¿—ã€åˆ›å»º Release |
| æ¨é€ main åˆ†æ”¯ | æ£€æŸ¥æ–°æäº¤ï¼Œé¢„è§ˆå˜æ›´ |
| æ‰‹åŠ¨åˆ›å»º Release | ä¸Šä¼ åˆ¶å“ï¼Œæ›´æ–° CHANGELOG.md |

### å·¥ä½œæµæ­¥éª¤

1. **Checkout** - æ£€å‡ºä»£ç 
2. **Extract version** - æå–ç‰ˆæœ¬å·
3. **Build** - Maven æ„å»º
4. **Generate Changelog** - ç”Ÿæˆæ›´æ–°æ—¥å¿—
5. **Prepare Release Notes** - å‡†å¤‡å‘å¸ƒè¯´æ˜
6. **Create GitHub Release** - åˆ›å»º Release
7. **Upload artifacts** - ä¸Šä¼ æ„å»ºäº§ç‰©
8. **Update CHANGELOG** - æ›´æ–° CHANGELOG.md

## ğŸ“ å‘å¸ƒäº§ç‰©

å‘å¸ƒæ—¶ä¼šç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ï¼š

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `*.jar` | æ„å»ºçš„ JAR æ–‡ä»¶ |
| `CHANGELOG.md` | æ›´æ–°æ—¥å¿— |
| Source code | æºç å‹ç¼©åŒ… |

## ğŸ·ï¸ ç‰ˆæœ¬æ ‡ç­¾ç¤ºä¾‹

```bash
# å‘å¸ƒç‰ˆæœ¬
git tag v0.0.1
git tag v0.0.2
git tag v1.0.0

# é¢„å‘å¸ƒç‰ˆæœ¬
git tag v0.0.1-alpha
git tag v0.0.1-beta.1

# æ¨é€æ ‡ç­¾
git push origin --tags
```

## ğŸ“Š æŸ¥çœ‹å‘å¸ƒçŠ¶æ€

```bash
# æŸ¥çœ‹æ‰€æœ‰æ ‡ç­¾
git tag -l

# æŸ¥çœ‹è¿œç¨‹æ ‡ç­¾
git ls-remote --tags origin

# æŸ¥çœ‹å‘å¸ƒå†å²
git log --oneline --decorate --tags
```

## ğŸ”§ è·³è¿‡æ›´æ–°æ—¥å¿—

å¦‚éœ€è·³è¿‡æŸæ¬¡æäº¤çš„æ›´æ–°æ—¥å¿—è®°å½•ï¼š

```bash
git commit -m "chore: æ›´æ–°ä¾èµ– [skip changelog]"
```

## ğŸ“ˆ ç‰ˆæœ¬å‘å¸ƒæ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] ä»£ç ç¬¦åˆè§„èŒƒ
- [ ] æ›´æ–°ç‰ˆæœ¬å·ï¼ˆpom.xmlï¼‰
- [ ] æäº¤ç¬¦åˆè§„èŒƒ
- [ ] åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
- [ ] æ¨é€ä»£ç å’Œæ ‡ç­¾
- [ ] éªŒè¯ GitHub Release
- [ ] éªŒè¯åˆ¶å“ä¸‹è½½

## â“ å¸¸è§é—®é¢˜

### Q: æ¨é€æ ‡ç­¾åæ²¡æœ‰è§¦å‘ Releaseï¼Ÿ
A: ç¡®ä¿æ ‡ç­¾æ ¼å¼ä¸º `v*.*.*`ï¼Œå¦‚ `v0.0.1`

### Q: å¦‚ä½•ä¿®æ”¹è‡ªåŠ¨ç”Ÿæˆçš„ Release è¯´æ˜ï¼Ÿ
A: åœ¨ GitHub Release é¡µé¢æ‰‹åŠ¨ç¼–è¾‘è¯´æ˜

### Q: CHANGELOG.md æ ¼å¼é”™è¯¯ï¼Ÿ
A: æ‰‹åŠ¨ç¼–è¾‘ `CHANGELOG.md` åæäº¤å³å¯

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `CHANGELOG.md` - æ›´æ–°æ—¥å¿—
- `.gitmessage` - Git æäº¤æ¨¡æ¿
- `.github/workflows/release.yml` - CI/CD å·¥ä½œæµ
